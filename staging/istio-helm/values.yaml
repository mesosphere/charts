# "defaults" is a workaround for Helm limitations. Users should NOT set ".defaults" explicitly, but rather directly set the fields internally.
# For instance, instead of `--set defaults.foo=bar`, just set `--set foo=bar`.
### D2iQ custom values for subcharts

global:
  # D2iQ specific global values
  image: docker.io/bitnamilegacy/kubectl
  tag: 1.29.2
  priorityClassName: ""
  
  # Istio global values shared across all subcharts
  istio:
    # Default hub for Istio images
    hub: docker.io/istio
    
    # Default tag for Istio images  
    tag: 1.23.6
    
    # Image pull policy
    imagePullPolicy: IfNotPresent
    
    # Image pull secrets
    imagePullSecrets: []
    
    # Istio namespace
    istioNamespace: istio2-system

# Istio component subcharts
base:
  enabled: true
  
cni:
  enabled: true
  
istiod:
  enabled: true
  
gateway:
  enabled: true
  
# D2iQ monitoring and security subcharts  
grafana:
  enabled: true
  
security:
  enabled: true
  issuerName: kommander-ca
  
prometheus:
  enabled: true

defaults:
  # D2iQ Note: Use istioOperator.hub and istioOperator.tag instead (templates/deployment.yaml)
#  hub: gcr.io/istio-testing
#  tag: latest

  # ImagePullSecrets for operator ServiceAccount, list of secrets in the same namespace
  # used to pull operator image. Must be set for any cluster configured with private docker registry.
  imagePullSecrets: []

  # Specify image pull policy if default behavior isn't desired.
  # Default behavior: latest images will be Always else IfNotPresent.
  imagePullPolicy: ""

  # Used to replace istioNamespace to support operator watch multiple namespaces.
  # D2iQ Note: Rather than use 'istio-system' here, set an empty string.
  # By default, we instruct Istio's operator to only watch the .Release.Namespace where it is installed.
  # Of course, this can be overridden so that additional namespaces can be watched.
#  watchedNamespaces: istio-system
  watchedNamespaces: ""
  waitForResourcesTimeout: 300s

  # Used for helm2 to add the CRDs to templates.
  # D2iQ Note: This should always be false since Flux v2 which DKP v2 uses has dropped Helm 2 support.
  enableCRDTemplates: false

  # revision for the operator resources
  revision: "istio-helm"

  # Node labels for pod assignment
  nodeSelector: {}

  # Tolerations for pod assignment
  tolerations: []

  # Affinity for pod assignment
  affinity: {}

  # Additional labels and annotations to apply on the pod level for monitoring and logging configuration.
  podLabels: {}
  podAnnotations: {}
