knativeOperator:
  enabled: true
  priorityClassName: ""
  # Add any specific values for the Knative Operator chart here

serving:
  enabled: true
  namespace: knative-serving
  manifest:
    spec:
      # The version of Knative Serving to install - you can upgrade one version at a time
      # See https://knative.dev/docs/install/operator/knative-with-operators/#install-knative-serving
      version: "v1.18.1"
      config:
        istio:
          local-gateways: |
            - name: knative-local-gateway
              namespace: knative-serving
              service: knative-local-gateway.istio-system.svc.cluster.local\n

### Old ISTIO Config
  knativeIngressGateway:
    spec:
      selector:
        istio: ingressgateway
      servers:
        - port:
            number: 80
            name: http
            protocol: HTTP
          hosts:
            - "*"

eventing:
  enabled: true
  namespace: knative-eventing
  manifest:
    spec:
      # The version of Knative Serving to install - you can upgrade one version at a time
      # See https://knative.dev/docs/install/operator/knative-with-operators/#installing-a-specific-version-of-eventing
      version: "v1.18.1"


# From App CM:

    global:
      priorityClassName: "dkp-high-priority"
      image: ${kubetoolsImageRepository:=bitnami/kubectl}
      tag: ${kubetoolsImageTag:=1.32.3}
    eventing:
      enabled: false
    eventing-sources:
      enabled: false
    serving:
      enabled: true
      namespaceKnativeServing:
        additionalLabels:
          ca.istio.io/override: "true"
      configDeployment:
        registriesSkippingTagResolving: "gcr.io,k8s.gcr.io,docker.io,index.docker.io,registry-1.docker.io,registry.hub.docker.com,quay.io,mcr.microsoft.com,nvcr.io,public.ecr.aws"
      gc:
        retainSinceCreateTime: "48h"
        retainSinceLastActiveTime: "15h"
        minNonActiveRevisions: "20"
        maxNonActiveRevisions: "1000"
